// --- Variables Supplémentaires (Page Actualités) ---
@import 'variables';

$accent-purple-light: #9286EA;
$accent-pink-purple: #BA68BC;
$card-shadow-color: #9286EA; // Couleur pleine pour l'effet "double carte"

// --- Mixins de Structure ---
@mixin mobile { @media (max-width: #{$breakpoint-sm}) { @content; } }
@mixin tablet { @media (max-width: #{$breakpoint-md}) { @content; } }

// --- Mixin Corrigé (L'astuce de l'ombre portée pour éviter les bugs) ---
@mixin double-card($bg-color, $shadow-color) {
    background-color: $bg-color !important;
    border-radius: 30px;
    // Crée le décalage de 20px sans flou pour simuler la carte du dessous
    box-shadow: 20px 20px 0 0 $shadow-color;
    border: none;
    position: relative;
}

// --- Styles de la page ---

.news-page {
    // Titre principal
    .title-main {
        @include page-title($accent-purple-light);
        margin: clamp(3rem, 5vw, 4rem) auto clamp(1.5rem, 2.5vw, 2rem);
    }

    .intro-section {
        @include container;
        text-align: center;
        font-size: clamp(1rem, 2vw, 1.25rem);
        font-family: $font-main;
        color: $nav-bg-color;
        line-height: 1.6;
        
        .newsletter-link {
            font-weight: 700;
            display: block;
            margin-top: clamp(1.5rem, 2.5vw, 2rem);
            color: $nav-bg-color;
            text-decoration: none;
            &:hover { text-decoration: underline; }
        }
    }

    // Section Sombre (Actualités Astrologiques)
    .astrological-section {
        background-color: $nav-bg-color;
        color: $text-color-light;
        padding: clamp(3rem, 6vw, 5rem) 0;
        margin-top: clamp(3rem, 6vw, 5rem);
        text-align: center;

        .title-secondary {
            color: $accent-purple-light;
            text-transform: uppercase;
            letter-spacing: clamp(1px, 0.25vw, 2px);
            font-size: clamp(1.5rem, 3vw, 2rem);
            font-family: $font-title;
            margin-bottom: clamp(2rem, 4vw, 3rem);
        }

        .moon-main-img {
            width: clamp(200px, 30vw, 300px);
            height: auto;
            margin: clamp(0.5rem, 1.5vw, 1rem) auto clamp(1rem, 2.5vw, 2rem);
        }

        .moon-phase-text {
            font-size: clamp(1.5rem, 3vw, 2.2rem);
            font-family: $font-main;
            margin: clamp(1.5rem, 2.5vw, 2rem) 0;
            span { font-weight: 700; }
        }

        .info-card-white {
            @include double-card($light-background, $card-shadow-color);
            color: $text-color-dark;
            max-width: 1000px;
            margin: clamp(2rem, 5vw, 4rem) auto;
            padding: clamp(2rem, 4vw, 3rem);
            text-align: left;
            font-size: clamp(1.1rem, 2vw, 1.5rem);
            font-family: $font-main;
            width: min(90%, 1000px);

            .highlight { 
                color: $accent-purple-light; 
                font-weight: 700; 
            }
        }
    }

    // Section Horoscope
    .horoscope-section {
        padding: clamp(3rem, 6vw, 5rem) 0;
        text-align: center;

        .zodiac-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: clamp(1rem, 2vw, 1.5rem);
            margin: clamp(2rem, 5vw, 4rem) 0;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
            padding: 0 20px;

            img {
                width: 100%;
                transition: $nav-transition;
                cursor: pointer;
                &:hover { transform: scale(1.1); }
            }
        }

        .info-card-dark {
            @include double-card($nav-bg-color, $card-shadow-color);
            color: $text-color-light;
            max-width: 1000px;
            margin: 0 auto;
            padding: clamp(2rem, 4vw, 3rem);
            text-align: left;
            font-size: clamp(1.1rem, 2vw, 1.5rem);
            font-family: $font-main;
            width: min(90%, 1000px);
        }
    }

    // Section Articles
    .articles-grid-section {
        padding: clamp(3rem, 6vw, 5rem) 0;
        
        .articles-container {
            @include container;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: clamp(25px, 4vw, 40px);
            margin-top: clamp(2rem, 4vw, 3rem);
        }

        .article-card {
            background: $nav-bg-color;
            color: $text-color-light;
            border-radius: clamp(6px, 1vw, 8px);
            overflow: hidden;
            
            .img-container {
                height: clamp(250px, 40vw, 460px);
                background: #D9D9D9;
                img { 
                    width: 100%; 
                    height: 100%; 
                    object-fit: cover; 
                }
            }

            .content {
                padding: clamp(1rem, 2vw, 1.5rem);
                h2 { 
                    font-size: clamp(1.2rem, 2vw, 1.5rem); 
                    font-family: $font-main;
                    font-weight: 700; 
                }
                p { 
                    font-size: clamp(0.85rem, 1.2vw, 0.9rem); 
                    font-family: $font-main;
                    opacity: 0.8; 
                    margin: clamp(0.75rem, 1.5vw, 1rem) 0; 
                }
                .read-more {
                    display: block;
                    text-align: right;
                    color: $text-color-light;
                    font-family: $font-main;
                    font-weight: 700;
                    text-decoration: none;
                    &:hover { text-decoration: underline; }
                }
            }
        }
    }

    .btn-cta-more {
        display: block;
        width: fit-content;
        margin: clamp(2rem, 5vw, 4rem) auto;
        background-color: $accent-pink-purple;
        color: $text-color-light;
        padding: clamp(1rem, 2vw, 1.2rem) clamp(2rem, 4vw, 3rem);
        border-radius: 30px;
        font-family: $font-main;
        font-weight: 700;
        font-size: clamp(16px, 2.5vw, 20px);
        text-decoration: none;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        transition: $nav-transition;

        &:hover {
            transform: translateY(-3px);
            filter: brightness(1.1);
        }
    }
}